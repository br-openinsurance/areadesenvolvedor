<!-- Generator: Widdershins v4.0.1 -->
<h1 id="api-comuns">APIs - Comuns v1.2.0 </h1>

<%= partial "./includes/alerta/alerta" %>
> Scroll down for code samples, example requests and responses. Select a language for code samples from the tabs above or the mobile navigation menu.

As APIs descritas neste documento são referentes as APIs da fase Open Data do Open Insurance Brasil.

Base URLs:

* <a href="https://api.organizacao.com.br/open-insurance/discovery/v1">https://api.organizacao.com.br/open-insurance/discovery/v1</a>

Web: <a href="https://openinsurance.susep.gov.br">Governança do Open Insurance Brasil - Especificações</a>

**Especificação em OAS 3.0** </br>
<a href="files/swagger/discovery.yaml" download="discovery.yaml">Download da Especificação</a> <br>
**Detalhamento Técnico** </br>
<a href="files/docs/discovery.docx" download="discovery.docx">Download do Detalhamento Técnico</a> <br>

Release Notes:

- <a href="./1.3.0.html#comuns-comuns">03/03/2023 </a>
- <a href="./1.3.1.html#discovery-discovery-v1-2-0">27/03/2023 </a>

<h2 id="a-descricao-referente-ao-codigo-de-status-retornado-pelas-APIs-discovery">A descrição referente ao código de status retornado pelas APIs</h2>

<a id="opIdgetStatus"></a>

> Code samples

```python
import requests
headers = {
  'Accept': 'application/json'
}

r = requests.get('http://api.seguradora.com.br/open-insurance/discovery/v1/status', headers = headers)

print(r.json())

```

```java
URL obj = new URL("http://api.seguradora.com.br/open-insurance/discovery/v1/status");
HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");
int responseCode = con.getResponseCode();
BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream()));
String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();
System.out.println(response.toString());

```

`GET /status`

 Descrição referente ao código de status retornado pelas APIs

<h3 id="a-descrição-referente-ao-código-de-status-retornado-pelas-apis-parameters">Parameters</h3>

|Name|In|Type|Required|Description|
|---|---|---|---|---|
|page|query|integer|false|Número da página que está sendo requisitada, sendo a primeira página 1.|
|page-size|query|integer|false|Quantidade total de registros por páginas.|

> Example responses

> 200 Response

```json
{
  "data": {
    "status": [
      {
        "code": "OK",
        "explanation": "Retorno com Sucesso",
        "detectionTime": "2021-07-21T08:30:00Z",
        "expectedResolutionTime": "2021-07-21T08:30:00Z",
        "updateTime": "2021-01-02T01:00:00Z",
        "unavailableEndpoints": [
          "https://api.seguradora.com.br/open-insurance/channels/v1/electronic-channels"
        ]
      }
    ]
  },
  "links": {
    "self": "https://api.organizacao.com.br/open-insurance/discovery/v1/status",
    "first": "https://api.organizacao.com.br/open-insurance/discovery/v1/status",
    "prev": "https://api.organizacao.com.br/open-insurance/discovery/v1/status",
    "next": "https://api.organizacao.com.br/open-insurance/discovery/v1/status",
    "last": "https://api.organizacao.com.br/open-insurance/discovery/v1/status"
  },
  "meta": {
    "totalRecords": 9,
    "totalPages": 3
  }
}
```

<h3 id="a-descrição-referente-ao-código-de-status-retornado-pelas-apis-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|Código de status retornado pelas APIs|[ResponseDiscoveryStatusList](#schemaresponsediscoverystatuslist)|
|204|[No Content](https://tools.ietf.org/html/rfc7231#section-6.3.5)|O recurso solicitado não existe ou não foi localizado.|[ResponseError](#schemaresponseerrordiscovery)|
|400|[Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)|A requisição foi malformada, omitindo atributos obrigatórios, seja no payload ou através de atributos na URL.|[ResponseError](#schemaresponseerrordiscovery)|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Cabeçalho de autenticação ausente/inválido ou token inválido|[ResponseError](#schemaresponseerrordiscovery)|
|403|[Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)|O token tem escopo incorreto ou uma política de segurança foi violada|[ResponseError](#schemaresponseerrordiscovery)|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|O recurso solicitado não existe ou não foi implementado|[ResponseError](#schemaresponseerrordiscovery)|
|405|[Method Not Allowed](https://tools.ietf.org/html/rfc7231#section-6.5.5)|O consumidor tentou acessar o recurso com um método não suportado|[ResponseError](#schemaresponseerrordiscovery)|
|406|[Not Acceptable](https://tools.ietf.org/html/rfc7231#section-6.5.6)|A solicitação continha um cabeçalho Accept diferente dos tipos de mídia permitidos ou um conjunto de caracteres diferente de UTF-8|[ResponseError](#schemaresponseerrordiscovery)|
|422|[Unprocessable Entity](https://tools.ietf.org/html/rfc2518#section-10.3)|O servidor entende o tipo de conteúdo da entidade da requisição, e a sintaxe da requisição esta correta, mas não foi possível processar as instruções presente.|[ResponseError](#schemaresponseerrordiscovery)|
|429|[Too Many Requests](https://tools.ietf.org/html/rfc6585#section-4)|A operação foi recusada, pois muitas solicitações foram feitas dentro de um determinado período ou o limite global de requisições concorrentes foi atingido|[ResponseError](#schemaresponseerrordiscovery)|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|Ocorreu um erro no gateway da API ou no microsserviço|[ResponseError](#schemaresponseerrordiscovery)|

<aside class="success">
This operation does not require authentication
</aside>

<h2 id="a-descricao-referente-a-listagem-de-indisponibilidades-agendadas-para-os-servicos-discovery">A descrição referente a listagem de indisponibilidades agendadas para os serviços</h2>


<a id="opIdgetOutage"></a>

> Code samples

```python
import requests
headers = {
  'Accept': 'application/json'
}

r = requests.get('http://api.seguradora.com.br/open-insurance/discovery/v1/outages', headers = headers)

print(r.json())

```

```java
URL obj = new URL("http://api.seguradora.com.br/open-insurance/discovery/v1/outages");
HttpURLConnection con = (HttpURLConnection) obj.openConnection();
con.setRequestMethod("GET");
int responseCode = con.getResponseCode();
BufferedReader in = new BufferedReader(
    new InputStreamReader(con.getInputStream()));
String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = in.readLine()) != null) {
    response.append(inputLine);
}
in.close();
System.out.println(response.toString());

```

`GET /outages`

A descrição referente a listagem de indisponibilidades agendadas para os serviços

<h3 id="a-descrição-referente-a-listagem-de-indisponibilidades-agendadas-para-os-serviços-parameters">Parameters</h3>

|Name|In|Type|Required|Description|
|---|---|---|---|---|
|page|query|integer|false|Número da página que está sendo requisitada, sendo a primeira página 1.|
|page-size|query|integer|false|Quantidade total de registros por páginas.|

> Example responses

> 200 Response

```json
{
  "data": [
    {
      "outageTime": "2020-07-21T08:30:00Z",
      "duration": "PT2H30M",
      "isPartial": false,
      "explanation": "Atualização do API Gateway",
      "unavailableEndpoints": [
        "electronic-channels"
      ]
    }
  ],
  "links": {
    "self": "https://api.organizacao.com.br/open-insurance/discovery/v1/status",
    "first": "https://api.organizacao.com.br/open-insurance/discovery/v1/status",
    "prev": "https://api.organizacao.com.br/open-insurance/discovery/v1/status",
    "next": "https://api.organizacao.com.br/open-insurance/discovery/v1/status",
    "last": "https://api.organizacao.com.br/open-insurance/discovery/v1/status"
  },
  "meta": {
    "totalRecords": 9,
    "totalPages": 3
  }
}
```

<h3 id="a-descrição-referente-a-listagem-de-indisponibilidades-agendadas-para-os-serviços-responses">Responses</h3>

|Status|Meaning|Description|Schema|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|listagem de indisponibilidades agendadas para os serviços|[ResponseDiscoveryOutageList](#schemaresponsediscoveryoutagelist)|
|204|[No Content](https://tools.ietf.org/html/rfc7231#section-6.3.5)|O recurso solicitado não existe ou não foi localizado.|[ResponseError](#schemaresponseerrordiscovery)|
|400|[Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)|A requisição foi malformada, omitindo atributos obrigatórios, seja no payload ou através de atributos na URL.|[ResponseError](#schemaresponseerrordiscovery)|
|401|[Unauthorized](https://tools.ietf.org/html/rfc7235#section-3.1)|Cabeçalho de autenticação ausente/inválido ou token inválido|[ResponseError](#schemaresponseerrordiscovery)|
|403|[Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)|O token tem escopo incorreto ou uma política de segurança foi violada|[ResponseError](#schemaresponseerrordiscovery)|
|404|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)|O recurso solicitado não existe ou não foi implementado|[ResponseError](#schemaresponseerrordiscovery)|
|405|[Method Not Allowed](https://tools.ietf.org/html/rfc7231#section-6.5.5)|O consumidor tentou acessar o recurso com um método não suportado|[ResponseError](#schemaresponseerrordiscovery)|
|406|[Not Acceptable](https://tools.ietf.org/html/rfc7231#section-6.5.6)|A solicitação continha um cabeçalho Accept diferente dos tipos de mídia permitidos ou um conjunto de caracteres diferente de UTF-8|[ResponseError](#schemaresponseerrordiscovery)|
|422|[Unprocessable Entity](https://tools.ietf.org/html/rfc2518#section-10.3)|O servidor entende o tipo de conteúdo da entidade da requisição, e a sintaxe da requisição esta correta, mas não foi possível processar as instruções presente.|[ResponseError](#schemaresponseerrordiscovery)|
|429|[Too Many Requests](https://tools.ietf.org/html/rfc6585#section-4)|A operação foi recusada, pois muitas solicitações foram feitas dentro de um determinado período ou o limite global de requisições concorrentes foi atingido|[ResponseError](#schemaresponseerrordiscovery)|
|500|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|Ocorreu um erro no gateway da API ou no microsserviço|[ResponseError](#schemaresponseerrordiscovery)|

<aside class="success">
This operation does not require authentication
</aside>

<h1 id="schema_comuns">Schemas</h1>

<%= partial "./includes/partials/monitoring/status_outages/responses" %>
